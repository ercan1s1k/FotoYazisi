<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Çizim Programı</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }
        canvas {
            border: 1px solid black;
        }
        .toolbar {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 10px;
        }
        .toolbar button, .toolbar select, .toolbar input {
            margin: 5px;
        }
        .color-picker {
            display: flex;
            align-items: center;
        }
        .color-picker input {
            margin-left: 10px;
        }
        .text-box {
            position: absolute;
            display: none;
            border: 1px solid black;
            background: white;
            z-index: 10;
        }
    </style>
</head>
<body>
    <div class="toolbar">
        <select id="brushSelector">
            <option value="1">İnce Fırça</option>
            <option value="2">Kalın Fırça</option>
            <option value="3">Nokta Fırça</option>
            <option value="4">Çizgi Fırça</option>
            <option value="5">Daire Fırça</option>
            <option value="6">Kare Fırça</option>
            <option value="7">Üçgen Fırça</option>
            <option value="8">Yıldız Fırça</option>
            <option value="9">Dalga Fırça</option>
            <option value="10">Çapraz Fırça</option>
            <option value="11">Gölge Fırça</option>
            <option value="12">Parlak Fırça</option>
            <option value="13">Bulanık Fırça</option>
            <option value="14">Kesik Fırça</option>
            <option value="15">Çift Çizgi Fırça</option>
            <option value="16">Çoklu Nokta Fırça</option>
            <option value="17">Çizgili Fırça</option>
            <option value="18">Düz Fırça</option>
            <option value="19">Eğik Fırça</option>
            <option value="20">Karma Fırça</option>
        </select>
        <div class="color-picker">
            <label for="colorPicker">Renk:</label>
            <input type="color" id="colorPicker">
        </div>
        <label for="brushSize">Kalınlık:</label>
        <input type="range" id="brushSize" min="1" max="10" value="1">
        <button onclick="setTextMode()">Yazı Modu</button>
        <button onclick="applyStyle('bold')">Kalın</button>
        <button onclick="applyStyle('italic')">İtalik</button>
        <button onclick="applyStyle('underline')">Altı Çizili</button>
        <select id="fontSelector">
            <option value="Arial">Arial</option>
            <option value="Courier New">Courier New</option>
            <option value="Georgia">Georgia</option>
            <option value="Times New Roman">Times New Roman</option>
            <option value="Verdana">Verdana</option>
        </select>
    </div>
    <canvas id="canvas" width="800" height="600"></canvas>
    <input type="text" id="textBox" class="text-box">
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let drawing = false;
        let brushSize = 1;
        let brushColor = '#000000';
        let textMode = false;
        let fontFamily = 'Arial';
        let fontWeight = 'normal';
        let fontStyle = 'normal';
        let textDecoration = 'none';
        const textBox = document.getElementById('textBox');

        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('click', addTextBox);
        document.getElementById('brushSelector').addEventListener('change', changeBrush);
        document.getElementById('colorPicker').addEventListener('input', changeColor);
        document.getElementById('brushSize').addEventListener('input', changeBrushSize);
        document.getElementById('fontSelector').addEventListener('change', changeFont);

        function startDrawing(e) {
            drawing = true;
            ctx.beginPath();
            ctx.moveTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);
        }

        function stopDrawing() {
            drawing = false;
            ctx.closePath();
        }

        function draw(e) {
            if (!drawing) return;
            if (textMode) return;
            ctx.lineWidth = brushSize;
            ctx.lineCap = 'round';
            ctx.strokeStyle = brushColor;
            ctx.lineTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);
            ctx.stroke();
        }

        function changeBrush(e) {
            brushSize = e.target.value;
        }

        function changeColor(e) {
            brushColor = e.target.value;
        }

        function changeBrushSize(e) {
            brushSize = e.target.value;
        }

        function setTextMode() {
            textMode = !textMode;
            if (textMode) {
                canvas.style.cursor = 'text';
            } else {
                canvas.style.cursor = 'default';
                textBox.style.display = 'none';
            }
        }

        function addTextBox(e) {
            if (!textMode) return;
            textBox.style.display = 'block';
            textBox.style.left = `${e.clientX}px`;
            textBox.style.top = `${e.clientY}px`;
            textBox.focus();
            textBox.onblur = function() {
                const text = textBox.value;
                if (text) {
                    ctx.font = `${fontWeight} ${fontStyle} 20px ${fontFamily}`;
                    ctx.fillStyle = brushColor;
                    ctx.fillText(text, e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);
                    if (textDecoration === 'underline') {
                        ctx.beginPath();
                        ctx.moveTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop + 5);
                        ctx.lineTo(e.clientX - canvas.offsetLeft + ctx.measureText(text).width, e.clientY - canvas.offsetTop + 5);
                        ctx.strokeStyle = brushColor;
                        ctx.stroke();
                    }
                }
                textBox.style.display = 'none';
                textBox.value = '';
            };
        }

        function applyStyle(style) {
            if (!textMode) return;
            if (style === 'bold') fontWeight = fontWeight === 'bold' ? 'normal' : 'bold';
            if (style === 'italic') fontStyle = fontStyle === 'italic' ? 'normal' : 'italic';
            if (style === 'underline') textDecoration = textDecoration === 'underline' ? 'none' : 'underline';
        }

        function changeFont(e) {
            fontFamily = e.target.value;
        }
    </script>
</body>
</html>
